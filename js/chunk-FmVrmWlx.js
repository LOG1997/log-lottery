import{d as e,c as l,a,b as t,G as o,F as s,B as r,n as u,o as n,u as c,s as d,r as i,aa as p,w as b,h as m,t as v,j as f,D as x,E as w,q as g,J as C,H as h,m as y,ab as k,ac as L}from"./chunk-BraE6NOK.js";import{a as V,u as P,i as T,l as U,t as _,e as S,f as A}from"./chunk-B9lHjrML.js";const D={class:"w-full h-auto"},I=["onClick"],R=V(e({__name:"PatternSetting",props:{rowCount:{type:Number,default:17},cardColor:{type:String,default:"#fff"},patternColor:{type:String,default:"#000"},patternList:{type:Array,default:()=>[]}},setup(e){const c=e,d=l((()=>c));return(e,l)=>(n(),a("div",D,[t("ul",{class:"pattern-list",style:o({gridTemplateColumns:`repeat(${d.value.rowCount},1fr)`})},[(n(!0),a(s,null,r(7*d.value.rowCount,(e=>(n(),a("li",{key:e,class:"w-5 h-5",style:o({backgroundColor:d.value.patternList.includes(e)?d.value.patternColor:d.value.cardColor}),onClick:u((l=>function(e,l){if(d.value.patternList.includes(l)){const e=d.value.patternList.indexOf(l);d.value.patternList.splice(e,1)}else d.value.patternList.push(l)}(0,e)),["stop"])},null,12,I)))),128))],4)]))}}),[["__scopeId","data-v-170dfa96"]]),z={class:"modal-box"},N={class:"text-lg font-bold"},j={class:"py-4"},q={class:"modal-action"},B={method:"dialog",class:"flex gap-3"},H={class:"mb-8"},F={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},O={class:""},E={class:"label"},G={class:"label-text"},J=["placeholder"],M={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},W={class:""},$={class:"label"},K={class:"label-text"},Q={class:"help"},X={key:0,class:"text-sm text-red-400 help-text"},Y=["data-tip"],Z=["disabled"],ee={class:"loading loading-ring loading-md"},le={class:"w-full max-w-xs form-control"},ae={class:"label"},te={class:"label-text"},oe={disabled:"",selected:""},se=["value"],re={class:"w-full max-w-xs form-control"},ue={class:"label"},ne={class:"label-text"},ce={disabled:"",selected:""},de=["value"],ie={class:"w-full max-w-xs form-control"},pe={class:"label"},be={class:"label-text"},me={disabled:"",selected:""},ve=["value"],fe={class:"w-full max-w-xs form-control"},xe={class:"label"},we={class:"label-text"},ge={class:"w-full max-w-xs form-control"},Ce={class:"label"},he={class:"label-text"},ye={class:"w-full max-w-xs form-control"},ke={class:"label"},Le={class:"label-text"},Ve={class:"flex flex-row w-full max-w-xs gap-10 mb-10 form-control"},Pe={class:"label"},Te={class:"label-text"},Ue={class:"label"},_e={class:"label-text"},Se={class:"w-full max-w-xs mb-10 form-control"},Ae={class:"label"},De={class:"label-text"},Ie={class:"w-full max-w-xs form-control"},Re={class:"label"},ze={class:"label-text"},Ne={class:"flex flex-row items-center w-full gap-24 mb-0 form-control"},je={class:"label"},qe={class:"label-text"},Be={class:"h-auto"},He={class:"flex w-full h-24 gap-3 m-0"},Fe=["data-tip"],Oe={class:"w-full max-w-xs mb-10 form-control"},Ee={class:"label"},Ge={class:"label-text"},Je=["checked"],Me={class:"w-full max-w-xs mb-10 form-control"},We={class:"label"},$e={class:"label-text"},Ke=["checked"],Qe=e({__name:"FaceConfig",setup(e){const{t:l}=c(),o=P().globalConfig,V=P().personConfig,D=P().prizeConfig,{getTopTitle:I,getTheme:Qe,getPatterColor:Xe,getPatternList:Ye,getCardColor:Ze,getLuckyColor:el,getTextColor:ll,getCardSize:al,getTextSize:tl,getRowCount:ol,getIsShowPrizeList:sl,getLanguage:rl,getBackground:ul,getImageList:nl,getIsShowAvatar:cl}=d(o),{getAlreadyPersonList:dl,getNotPersonList:il}=d(V),pl=i(),bl=i(),ml=i(0),vl=i(Qe.value.name),fl=i(structuredClone(I.value)),xl=i(structuredClone(Ze.value)),wl=i(structuredClone(el.value)),gl=i(structuredClone(ll.value)),Cl=i(structuredClone(al.value)),hl=i(structuredClone(tl.value)),yl=i(structuredClone(ol.value)),kl=i(structuredClone(rl.value)),Ll=i(structuredClone(sl.value)),Vl=i(structuredClone(cl.value)),Pl=i(structuredClone(Xe.value)),Tl=i(Object.keys(L)),Ul=i(L),_l=i(ul.value),Sl=i({rowCount:yl}),Al=i({rowCount:""}),Dl=p.object({rowCount:p.number({required_error:T.global.t("error.require"),invalid_type_error:T.global.t("error.requireNumber")}).min(1,T.global.t("error.minNumber1")).max(100,T.global.t("error.maxNumber100"))}),Il={rowCount:Sl.value.rowCount};function Rl(){ml.value=2,setTimeout((()=>{const e=dl.value.length,l=il.value.length;if(e<=0&&l<=0)return;const a=dl.value.concat(il.value),t=a.slice(0,e),o=a.slice(e,l+e);V.deleteAllPerson(),V.addNotPersonList(o),V.addAlreadyPersonList(t,null),ml.value=0}),1e3)}function zl(){o.setPatternList([])}function Nl(){o.resetPatternList()}function jl(){o.reset(),V.reset(),D.resetDefault(),window.location.reload()}return b((()=>Sl.value.rowCount),(()=>{var e;Il.rowCount=Sl.value.rowCount,(e=Il,Dl.parseAsync(e)).then((e=>{e.rowCount&&(ml.value=1,o.setRowCount(e.rowCount))})).catch((e=>{Al.value.rowCount=e.issues[0].message}))})),b(fl,(e=>{o.setTopTitle(e)})),b(vl,(e=>{const l=Ul.value[e];o.setTheme({name:e,detail:l}),_(e),l.primary&&(S(l.primary)||A(l.primary))&&o.setCardColor(l.primary)}),{deep:!0}),b(xl,(e=>{o.setCardColor(e)}),{deep:!0}),b(wl,(e=>{o.setLuckyCardColor(e)}),{deep:!0}),b(Pl,(e=>{o.setPatterColor(e)})),b(gl,(e=>{o.setTextColor(e)}),{deep:!0}),b(Cl,(e=>{o.setCardSize(e)}),{deep:!0}),b(Ll,(()=>{o.setIsShowPrizeList(Ll.value)})),b(_l,(e=>{o.setBackground(e)})),b(kl,(e=>{o.setLanguage(e)})),b(Vl,(()=>{o.setIsShowAvatar(Vl.value)})),m((()=>{})),(e,o)=>(n(),a(s,null,[t("dialog",{id:"my_modal_1",ref_key:"resetDataDialogRef",ref:bl,class:"border-none modal"},[t("div",z,[t("h3",N,v(f(l)("dialog.titleTip")),1),t("p",j,v(f(l)("dialog.dialogResetAllData")),1),t("div",q,[t("form",B,[t("button",{class:"btn",onClick:o[0]||(o[0]=e=>bl.value.close())},v(f(l)("button.cancel")),1),t("button",{class:"btn",onClick:jl},v(f(l)("button.confirm")),1)])])])],512),t("div",null,[t("h2",null,v(f(l)("viewTitle.globalSetting")),1),t("div",H,[t("button",{class:"btn btn-sm btn-primary",onClick:o[1]||(o[1]=e=>bl.value.showModal())},v(f(l)("button.resetAllData")),1)]),t("label",F,[t("div",O,[t("div",E,[t("span",G,v(f(l)("table.title")),1)]),x(t("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>fl.value=e),type:"text",placeholder:f(l)("placeHolder.enterTitle"),class:"w-full max-w-xs input input-bordered"},null,8,J),[[w,fl.value]])])]),t("label",M,[t("div",W,[t("div",$,[t("span",K,v(f(l)("table.columnNumber")),1)]),x(t("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>Sl.value.rowCount=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Sl.value.rowCount]]),t("div",Q,[Al.value.rowCount?(n(),a("span",X,v(Al.value.rowCount),1)):g("",!0)])]),t("div",null,[t("div",{class:"tooltip","data-tip":f(l)("tooltip.resetLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",disabled:1!==ml.value,onClick:Rl},[t("span",null,v(f(l)("button.setLayout")),1),x(t("span",ee,null,512),[[C,2===ml.value]])],8,Z)],8,Y)])]),t("label",le,[t("div",ae,[t("span",te,v(f(l)("table.language")),1)]),x(t("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>kl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",oe,v(f(l)("table.language")),1),(n(!0),a(s,null,r(f(U),(e=>(n(),a("option",{key:e.key,value:e.key},v(e.name),9,se)))),128))],512),[[h,kl.value]])]),t("label",re,[t("div",ue,[t("span",ne,v(f(l)("table.theme")),1)]),x(t("select",{"onUpdate:modelValue":o[5]||(o[5]=e=>vl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",ce,v(f(l)("table.theme")),1),(n(!0),a(s,null,r(Tl.value,((e,l)=>(n(),a("option",{key:l,value:e},v(e),9,de)))),128))],512),[[h,vl.value]])]),t("label",ie,[t("div",pe,[t("span",be,v(f(l)("table.backgroundImage")),1)]),x(t("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>_l.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[t("option",me,v(f(l)("table.backgroundImage")),1),(n(!0),a(s,null,r([{name:"❌",url:"",id:""},...f(nl)],((e,l)=>(n(),a("option",{key:l,value:e},v(e.name),9,ve)))),128))],512),[[h,_l.value]])]),t("label",fe,[t("div",xe,[t("span",we,v(f(l)("table.cardColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:xl.value,"onUpdate:modelValue":o[7]||(o[7]=e=>xl.value=e),"pure-color":xl.value,"onUpdate:pureColor":o[8]||(o[8]=e=>xl.value=e)},null,8,["modelValue","pure-color"])]),t("label",ge,[t("div",Ce,[t("span",he,v(f(l)("table.winnerColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:wl.value,"onUpdate:modelValue":o[9]||(o[9]=e=>wl.value=e),"pure-color":wl.value,"onUpdate:pureColor":o[10]||(o[10]=e=>wl.value=e)},null,8,["modelValue","pure-color"])]),t("label",ye,[t("div",ke,[t("span",Le,v(f(l)("table.textColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:gl.value,"onUpdate:modelValue":o[11]||(o[11]=e=>gl.value=e),"pure-color":gl.value,"onUpdate:pureColor":o[12]||(o[12]=e=>gl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Ve,[t("div",null,[t("div",Pe,[t("span",Te,v(f(l)("table.cardWidth")),1)]),x(t("input",{"onUpdate:modelValue":o[13]||(o[13]=e=>Cl.value.width=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Cl.value.width]])]),t("div",null,[t("div",Ue,[t("span",_e,v(f(l)("table.cardHeight")),1)]),x(t("input",{"onUpdate:modelValue":o[14]||(o[14]=e=>Cl.value.height=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Cl.value.height]])])]),t("label",Se,[t("div",Ae,[t("span",De,v(f(l)("table.textSize")),1)]),x(t("input",{"onUpdate:modelValue":o[15]||(o[15]=e=>hl.value=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,hl.value]])]),t("label",Ie,[t("div",Re,[t("span",ze,v(f(l)("table.highlightColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:Pl.value,"onUpdate:modelValue":o[16]||(o[16]=e=>Pl.value=e),"pure-color":Pl.value,"onUpdate:pureColor":o[17]||(o[17]=e=>Pl.value=e)},null,8,["modelValue","pure-color"])]),t("label",Ne,[t("div",null,[t("div",je,[t("span",qe,v(f(l)("table.patternSetting")),1)]),t("div",Be,[y(R,{"row-count":f(ol),"card-color":f(Ze),"pattern-color":f(Xe),"pattern-list":f(Ye)},null,8,["row-count","card-color","pattern-color","pattern-list"])])])]),t("div",He,[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:u(zl,["stop"])},[t("span",null,v(f(l)("button.clearPattern")),1)]),t("div",{class:"tooltip","data-tip":f(l)("tooltip.defaultLayout")},[t("button",{class:"mt-5 btn btn-info btn-sm",onClick:Nl},[t("span",null,v(f(l)("button.DefaultPattern")),1)])],8,Fe)]),t("label",Oe,[t("div",Ee,[t("span",Ge,v(f(l)("table.alwaysDisplay")),1)]),t("input",{type:"checkbox",checked:Ll.value,class:"mt-2 border-solid checkbox checkbox-secondary border-1",onChange:o[18]||(o[18]=e=>Ll.value=!Ll.value)},null,40,Je)]),t("label",Me,[t("div",We,[t("span",$e,v(f(l)("table.avatarDisplay")),1)]),t("input",{type:"checkbox",checked:Vl.value,onChange:o[19]||(o[19]=e=>Vl.value=!Vl.value),class:"mt-2 border-solid checkbox checkbox-secondary border-1"},null,40,Ke)])])],64))}});export{Qe as default};
