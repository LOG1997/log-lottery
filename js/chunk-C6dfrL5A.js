import{j as e,B as s,o as t,Q as a,p as n,I as o,a as l,g as r,bh as d,bi as i,ay as c,h as u,bj as m,au as p,bk as f,bl as b,bm as h,bn as v}from"./chunk-Bpe8Il_K.js";import{a as y}from"./chunk-DpwHy-20.js";const g={class:"fixed inset-0 flex w-screen items-center justify-center p-4"},C={class:"w-full flex items-center gap-2"},x=y({__name:"index",props:{title:{type:String,default:"提示"},desc:{type:String,required:!0},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","close"],setup(h,{emit:v}){const y=h,x=v,j=e(y.modelValue);function _(){j.value=!1,x("update:modelValue",!1),x("close")}return s(()=>y.modelValue,e=>{j.value=e}),(e,s)=>(t(),a(b,{to:"body"},[n(r(f),{open:j.value,class:"relative z-50",onClose:_},{default:o(()=>[s[0]||(s[0]=l("div",{class:"fixed inset-0 bg-black/30","aria-hidden":"true"},null,-1)),l("div",g,[n(r(d),{class:"max-w-sm rounded bg-base-100 w-9/10 p-6 shadow-md"},{default:o(()=>[n(r(i),{class:"font-bold text-lg"},{default:o(()=>[l("p",C,[n(r(c),{class:"text-red-500"}),l("span",null,u(h.title||"提示"),1)])]),_:1}),n(r(m),{class:"py-4"},{default:o(()=>[p(u(h.desc),1)]),_:1}),l("div",{class:"mr-4 mt-4 flex justify-end"},[l("button",{class:"btn",onClick:_}," 确定 ")])]),_:1})])]),_:1},8,["open"])]))}},[["__scopeId","data-v-b5e91f6c"]]);function j(e={}){const s={title:"提示",desc:"",onConfirm:()=>{},onClose:()=>{},...e},t=document.createElement("div"),a=n(x,{title:s.title,desc:s.desc,modelValue:!0,"onUpdate:modelValue":e=>{e||(h(null,t),document.body.removeChild(t))},onConfirm:()=>{s.onConfirm()},onClose:()=>{s.onClose()}});return h(a,t),document.body.appendChild(t),{close:()=>{h(null,t),document.body.removeChild(t)}}}class _{instance;constructor(e){this.instance=v.create({baseURL:"/api",timeout:1e4,...e}),this.instance.interceptors.request.use(e=>e,e=>Promise.reject(e)),this.instance.interceptors.response.use(e=>e,e=>{if(e.response&&e.response.data){const{code:s,msg:t}=e.response.data;return j({title:s,desc:t}),Promise.reject(e.response.data)}return j({title:"请求错误",desc:e.message}),Promise.reject(e)})}async request(e){return(await this.instance.request(e)).data}}function w(e,s){return new _(t={url:"/user-msg",method:"POST",headers:{userSignature:e},data:s}).request(t);var t}export{w as a};
